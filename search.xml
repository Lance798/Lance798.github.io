<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>《FPGA研究筆記 三》 LCD模組 8位元驅動</title>
    <url>/2020/11/18/LCM-8%E4%BD%8D%E5%85%83%E9%A9%85%E5%8B%95/</url>
    <content><![CDATA[<h1 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h1><p>使用FPGA，透過8bit傳輸介面來驅動LCD模組。</p>
<h1 id="相關知識"><a href="#相關知識" class="headerlink" title="相關知識"></a>相關知識</h1><h2 id="LCD模組"><a href="#LCD模組" class="headerlink" title="LCD模組"></a>LCD模組</h2><p>KTM-626上安裝的LCD型號是WG14432B5，可以顯示中文字，為繪圖型LCD。<br>寬度144畫素、高度32畫素。</p>
<h3 id="名詞說明"><a href="#名詞說明" class="headerlink" title="名詞說明"></a>名詞說明</h3><ul>
<li><strong>AC</strong> 位址計數</li>
<li><strong>BF</strong> 忙碌旗標</li>
<li><strong>DDRAM</strong> 顯示資料暫存器</li>
<li><strong>CGRAM</strong> 自定義字型暫存器 </li>
<li><strong>HCGROM</strong> 半寬字型記憶體(ASCII) </li>
<li><strong>CGROM</strong> 中文字型記憶體(BIG-5)</li>
</ul>
<a id="more"></a>

<h3 id="重要接腳說明"><a href="#重要接腳說明" class="headerlink" title="重要接腳說明"></a>重要接腳說明</h3><p><img src="LCD_pinout.png" alt="LCD 接腳圖"></p>
<ol>
<li><strong>RS</strong>  暫存器選擇 和 <strong>RW</strong> 讀/寫控制選擇<table>
<thead>
<tr>
<th align="center">RS</th>
<th align="center">RW</th>
<th align="center">簡介</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">寫入指令碼於指令暫存器。</td>
</tr>
<tr>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">讀取BF(忙碌旗標)和AC(位址計數器)的內容。</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">將資料寫入DDRAM(資料暫存器)。</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">從DDRAM讀取資料。</td>
</tr>
</tbody></table>
</li>
<li><strong>EN</strong> LCD致能接腳 <br> 輸入一正脈波(<strong>0 -&gt; 1 -&gt; 0</strong>)即可完成寫入資料。</li>
<li><strong>D0 ~ D7</strong> 資料匯流排<br> 輸入指令碼</li>
</ol>
<h3 id="控制指令表"><a href="#控制指令表" class="headerlink" title="控制指令表"></a>控制指令表</h3><p><img src="CMD_RE0.jpg" alt="指令表1"></p>
<p><img src="CMD_RE1.jpg" alt="指令表2"></p>
<h3 id="初始化流程"><a href="#初始化流程" class="headerlink" title="初始化流程"></a>初始化流程</h3><pre class="mermaid">stateDiagram-v2
    [*] --> Still
    Still --> [*]
    Still --> Moving
    Moving --> Still
    Moving --> Crash
    Crash --> [*]</pre>



<h1 id="設計架構"><a href="#設計架構" class="headerlink" title="設計架構"></a>設計架構</h1><h1 id="結果"><a href="#結果" class="headerlink" title="結果"></a>結果</h1><h1 id="心得"><a href="#心得" class="headerlink" title="心得"></a>心得</h1><p>這是我第一次用LCD而不使用I2C的傳輸方式，而且還不是用寫程式的方式，最後快完成的時候還因為我時脈的腳位設錯，但幸好最後有發現。</p>
<h1 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h1><ul>
<li><a href="https://blog.csdn.net/qq_36749906/article/details/107462149">Mermaid狀態機教學</a></li>
<li><a href="http://b2.hlvs.ylc.edu.tw/ezfiles/3/1003/img/106/20140421085729.pdf">LCD模組徹底研究</a></li>
<li>FPGA晶片設計實務 ISBN：978-986-430-399-1<br><a href="http://www.csd.nutn.edu.tw/DSE/CH9.pdf">http://www.csd.nutn.edu.tw/DSE/CH9.pdf</a><br><a href="http://www.hantronix.com/files/data/1278382423char-comm-b.pdf">http://www.hantronix.com/files/data/1278382423char-comm-b.pdf</a><br><a href="https://baike.baidu.com/item/CGROM/10134179">https://baike.baidu.com/item/CGROM/10134179</a></li>
</ul>
]]></content>
      <categories>
        <category>FPGA研究筆記</category>
      </categories>
      <tags>
        <tag>FPGA</tag>
        <tag>LCD顯示器</tag>
        <tag>VHDL</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2020/12/11/LCM-8%E4%BD%8D%E5%85%83%E9%A9%85%E5%8B%95/table/</url>
    <content><![CDATA[<table style = "text-align:center ">
<tr>
  <th rowspan=2>指令名稱</th>
  <th colspan=10>指令碼</th>
  <th rowspan=2>功能</th>
</tr>
<tr>
  <th>RS</th><th>RW</th><th>D7</th><th>D6</th><th>D5</th><th>D4</th><th>D3</th><th>D2</th><th>D1</th><th>D0</th>
</tr>
<tr>
  <td>CLEAR<br/>清除顯示</td>
  <td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td>
  <td style = "text-align: left">將DDRAM用ASCII碼20H填滿，並設定指向DDRAM的位置00H。</td>
</tr>
<tr>
  <td>HOME<br/>游標歸位</td>
  <td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>X</td>
  <td style = "text-align: left">設定AC指向DDRAM的位置00H，但保留DDRAM資料。</td>
</tr>
<tr>
  <td>ENTRY MODE<br/>進入模式<br/>設定</td>
  <td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>I/D</td><td>S</td>
  <td style = "text-align: left">設定資料讀寫時，AC的調整方法、游標及顯示幕是否位移。<table style = "border:3px #cccccc solid">
<thead>
<tr style = "text-align:center">
<th>I/D</th>
<th>S</th>
<th>簡介</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td><td>0</td><td>游標向左移，AC減1，<br/>顯示字元不移動</td>
</tr>
<tr>
<td>0</td><td>1</td><td>游標向左移，AC減1，<br/>顯示字元向左移</td>
</tr>
<tr>
<td>1</td><td>0</td><td>游標向右移，AC加1，<br/>顯示字元不移動</td>
</tr>
<tr>
<td>1</td><td>1</td><td >游標向右移，AC加1，<br/>顯示字元向右移</td></tr></tbody></table>
</td></tr>
<tr>
<td>DISPLAY<br/>ON/OFF<br/>顯示設定</td>
  <td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>D</td><td>C</td><td>B</td>
  <td style = "text-align: left">設定顯示器
  、游標及是否閃爍游標控制。<br/>
  <ul>
    <li><strong>D=0</strong>：顯示器關閉，<br/><strong>D=1</strong>：顯示器開啟</li>
    <li><strong>C=0</strong>：游標不顯示，<strong>C=1</strong>：游標顯示</li>
    <li><strong>B=0</strong>：游標不閃爍，<strong>B=1</strong>：游標閃爍</li>
  </ul>
  </td>
</tr>
</table>
]]></content>
  </entry>
</search>
